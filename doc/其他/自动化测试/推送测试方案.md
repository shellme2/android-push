# IM推送测试方案V1.0

## 一、背景
+ 规范推送测试方案以及测试指标
+ 完善推送测试自动化

## 二、推送库特点
+ 强依赖网络
+ 所有机型通用支持

## 三、影响推送成功率的因素

+ 本身程序Bug
+ 网络不稳定，时好时坏

## 四、测试方案

### 1、场景
+ 网络环境：
	+ 更换测试场地
	+ 更换WiFi网络
	+ 模拟网络中断（测试离线消息）
+ 机器环境：
	+ 同机型，不同机器
	+ 不同机器

### 2、频次

+ 在线测试：
	+ 定时间歇
		+ 1次（1）条
		+ (10)分钟1次（时间随机在（10）的0.1倍范围内延迟）
	+ 测试条数：（1000）条
+ 模拟离线断网测试
	+ 发送：
		+ 一次（10）条
		+ 6分钟一次
	+ 1次断网时间（6）分钟
	+ 1小时断（2）1次
	+ 模拟次数：300次
## 五、测试报告

### 1、消息发送情况
+ 发送总次数
+ 发送成功条数

### 2、消息接收情况
+ 1s内接收条数（所占发送成功百分比）
+ 1-5内接收条数（所占发送成功百分比）
+ 6-10s内接收条数（所占发送成功百分比）
+ 11-20秒接收条数（所占发送成功百分比）
+ 20-60秒接收条数（所占发送成功百分比）
+ 大于60s接收条数 （所占发送成功百分比）

### 3、TCP连接情况
+ TCP连接开始（重试）
+ TCP连接失败
+ TCP连接成功
+ TCP连接中断


## 六、测试标准

+ 1、因网络中断而导致的消息延迟不计入接收失败内
	+ 开发给出LOG分析
+ 2、遵循上述第一条，1min中内成功率99%
+ 3、受机型WiFi模块硬件条件影响，不同机型的测试情况单独区分

> 说明：测试方案根据测试情况逐步迭代